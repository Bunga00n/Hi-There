<!DOCTYPE html>
<html lang="ms">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hi Ashraf üíå</title>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #fff5f8;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
}

.card {
  background: white;
  padding: 30px;
  border-radius: 20px;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.fade-out {
  opacity: 0;
  transform: translateY(10px);
}

h2 {
  color: #d63384;
  font-weight: 500;
}

p {
  color: #555;
  font-size: 14px;
}

button {
  display: block;
  width: 100%;
  padding: 12px;
  margin-top: 12px;
  border-radius: 12px;
  border: none;
  font-size: 15px;
  cursor: pointer;
  transition: 0.2s ease;
}

.primary {
  background: #f8c8dc;
  color: #6a1b4d;
}

.primary:hover {
  background: #f4b6cf;
}

.secondary {
  background: #f1f1f1;
  color: #555;
}

.secondary:hover {
  background: #e4e4e4;
}

.footer {
  margin-top: 15px;
  font-size: 12px;
  color: #aaa;
}
</style>
</head>

<body>

<div class="card" id="card"></div>

<!-- EmailJS SDK -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
(function(){
  emailjs.init("63eS7AoUU_bR-VqJB"); // <-- GANTI dengan public key EmailJS
})();

// Hantar email setiap jawapan negatif
function notifyOwner(answer) {
  emailjs.send("sHZtymDslOGff-w0yem50", "template_oqw7ru3", {
    message: answer,
    time: new Date().toLocaleString()
  })
  .then(function(response) {
    console.log("Email berjaya dihantar!");
  }, function(error) {
    console.log("Email gagal dihantar", error);
  });
}

// Fungsi animasi fade
function fadeChange(content) {
  const card = document.getElementById("card");
  card.classList.add("fade-out");
  setTimeout(() => {
    card.innerHTML = content;
    card.classList.remove("fade-out");
  }, 400);
}

// Start
function start() {
  fadeChange(`
    <h2>Hi Ashraf... üíå</h2>
    <p>Saya ada benda nak tanya, tapi sebelum tu ada beberapa soalan.<br><br>Awak okay ke?</p>
    <button class="primary" onclick="q2()">Okay, jom!</button>
    <button class="secondary" onclick="endFlow('Tidak berminat')">Tidak berminat</button>
  `);
}

// Question 2
function q2() {
  fadeChange(`
    <h2>Sebelum saya teruskan...</h2>
    <p>Awak sedang berkenalan dengan sesiapa ke sekarang?</p>
    <button class="primary" onclick="endFlow('Ya, sedang kenal orang')">Ya, sedang kenal orang</button>
    <button class="secondary" onclick="q3()">Tidak</button>
  `);
}

// Question 3
function q3() {
  fadeChange(`
    <h2>Status awak sekarang...</h2>
    <p>Dah berpunya? Dah move on atau masih gamon?</p>
    <button class="primary" onclick="q4()">Dah move on & Single</button>
    <button class="secondary" onclick="endFlow('Masih teringat ex / tak ready')">Masih teringat ex / tak ready</button>
  `);
}

// Question 4
function q4() {
  fadeChange(`
    <h2>Jujur eh...</h2>
    <p>Awak masih berminat tak nak berkenalan dengan saya?</p>
    <button class="primary" onclick="finalQ()">Masih berminat</button>
    <button class="secondary" onclick="endFlow('Rasanya tak perlu kot')">Rasanya tak perlu kot</button>
  `);
}

// Final Question
function finalQ() {
  fadeChange(`
    <h2>Alang-alang dah sampai sini...</h2>
    <p>Awak nak tak kita Iftar sekali nanti?<br>Saja borak-borak.</p>
    <button class="primary" onclick="goWhatsApp()">Nak!</button>
    <button class="secondary" onclick="endFlow('Lain kali lah')">Lain kali lah</button>
  `);
}

// Redirect ke WhatsApp
function goWhatsApp() {
  const phoneNumber = "60178249056"; // <-- GANTI nombor awak
  const text = encodeURIComponent("Hi, saya Ashraf. Saya pilih Nak untuk iftar!");
  window.location.href = `https://wa.me/${phoneNumber}?text=${text}`;
}

// End flow untuk jawapan negatif
function endFlow(answer) {
  notifyOwner(answer); // Hantar email
  fadeChange(`
    <h2>${answer}</h2>
    <div class="footer">Terima kasih sebab jujur ü§ç</div>
  `);
}

start();
</script>

</body>
</html>
